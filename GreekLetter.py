#!/usr/bin/python
# -*- coding: utf-8 -*-
import sublime, sublime_plugin

class GreekLetterExpandCommand(sublime_plugin.TextCommand):
	def run(self, edit):
		greekmappings = {
		'Alpha': 'Î‘',
		'alpha': 'Î±',
		'Beta': 'Î’',
		'beta': 'Î²',
		'Gamma': 'Î“',
		'gamma': 'Î³',
		'Delta': 'Î”',
		'delta': 'Î´',
		'Epsilon': 'Î•',
		'epsilon': 'Ïµ',
		'varepsilon': 'Îµ',
		'Zeta': 'Î–',
		'zeta': 'Î¶',
		'Eta': 'Î—',
		'eta': 'Î·',
		'Theta': 'Î˜',
		'theta': 'Î¸',
		'Iota': 'Î™',
		'iota': 'Î¹',
		'Kappa': 'Îš',
		'kappa': 'Îº',
		'Lambda': 'Î›',
		'lambda': 'Î»',
		'Mu': 'Îœ',
		'mu': 'Î¼',
		'Nu': 'Î',
		'nu': 'Î½',
		'Xi': 'Î',
		'xi': 'Î¾',
		'Omicron': 'ÎŸ',
		'omicron': 'Î¿',
		'Pi': 'Î ',
		'pi': 'Ï€',
		'Rho': 'Î¡',
		'rho': 'Ï',
		'Sigma': 'Î£',
		'sigma': 'Ïƒ',
		'Tau': 'Î¤',
		'tau': 'Ï„',
		'Upsilon': 'Î¥',
		'upsilon': 'Ï…',
		'Phi': 'Î¦',
		'phi': 'Ï†',
		'varphi': 'Ï•',
		'Chi': 'Î§',
		'chi': 'Ï‡',
		'Psi': 'Î¨',
		'psi': 'Ïˆ',
		'Omega': 'Î©',
		'omega': 'Ï‰'
		}
		# double underscore __ for superscripts
		# single underscore _ for subscripts
		mathmappings = {
		'ell': 'â„“',
		'approx': 'â‰ˆ',
		'circ': 'âˆ˜',
		'pm': 'Â±',
		'bfAlpha': 'ğš¨',
		'bfBeta': 'ğš©',
		'bfGamma': 'ğšª',
		'bfDelta': 'ğš«',
		'bfEpsilon': 'ğš¬',
		'bfZeta': 'ğš­',
		'bfEta': 'ğš®',
		'bfTheta': 'ğš¯',
		'bfIota': 'ğš°',
		'bfKappa': 'ğš±',
		'bfLambda': 'ğš²',
		'bfMu': 'ğš³',
		'bfNu': 'ğš´',
		'bfXi': 'ğšµ',
		'bfOmicron': 'ğš¶',
		'bfPi': 'ğš·',
		'bfRho': 'ğš¸',
		'bfvarTheta': 'ğš¹',
		'bfSigma': 'ğšº',
		'bfTau': 'ğš»',
		'bfUpsilon': 'ğš¼',
		'bfPhi': 'ğš½',
		'bfChi': 'ğš¾',
		'bfPsi': 'ğš¿',
		'bfOmega': 'ğ›€',
		'bfnabla': 'ğ›',
		'bfalpha': 'ğ›‚',
		'bfbeta': 'ğ›ƒ',
		'bfgamma': 'ğ›„',
		'bfdelta': 'ğ›…',
		'bfepsilon': 'ğ›†',
		'bfzeta': 'ğ›‡',
		'bfeta': 'ğ›ˆ',
		'bftheta': 'ğ›‰',
		'bfiota': 'ğ›Š',
		'bfkappa': 'ğ›‹',
		'bflambda': 'ğ›Œ',
		'bfmu': 'ğ›',
		'bfnu': 'ğ›',
		'bfxi': 'ğ›',
		'bfomicron': 'ğ›',
		'bfpi': 'ğ›‘',
		'bfrho': 'ğ›’',
		'bfvarsigma': 'ğ›“',
		'bfsigma': 'ğ›”',
		'bftau': 'ğ›•',
		'bfupsilon': 'ğ›–',
		'bfvarphi': 'ğ›—',
		'bfchi': 'ğ›˜',
		'bfpsi': 'ğ›™',
		'bfomega': 'ğ›š',
		'bfpartial': 'ğ››',
		'bfvarepsilon': 'ğ›œ',
		'bfvartheta': 'ğ›',
		'bfvarkappa': 'ğ›',
		'bfphi': 'ğ›Ÿ',
		'bfvarrho': 'ğ› ',
		'bfvarpi': 'ğ›¡',
		'nabla': 'âˆ‡',
		'scrA': 'ğ’œ',
		'scrC': 'ğ’',
		'scrD': 'ğ’Ÿ',
		'scrE': 'â„°',
		'scrF': 'â„±',
		'scrG': 'ğ’¢',
		'scrH': 'â„‹',
		'scrI': 'â„',
		'scrJ': 'ğ’¥',
		'scrK': 'ğ’¦',
		'scrL': 'â„’',
		'scrM': 'â„³',
		'scrN': 'ğ’©',
		'scrO': 'ğ’ª',
		'scrP': 'ğ’«',
		'scrQ': 'ğ’¬',
		'scrR': 'â„›',
		'scrS': 'ğ’®',
		'scrT': 'ğ’¯',
		'scrU': 'ğ’°',
		'scrV': 'ğ’±',
		'scrW': 'ğ’²',
		'scrX': 'ğ’³',
		'scrY': 'ğ’´',
		'scrZ': 'ğ’µ',
		'scra': 'ğ’¶',
		'scrb': 'ğ’·',
		'scrc': 'ğ’¸',
		'scrd': 'ğ’¹',
		'scrf': 'ğ’»',
		'scrh': 'ğ’½',
		'scri': 'ğ’¾',
		'scrj': 'ğ’¿',
		'scrk': 'ğ“€',
		'scrl': 'ğ“',
		'scrm': 'ğ“‚',
		'scrn': 'ğ“ƒ',
		'scrp': 'ğ“…',
		'scrq': 'ğ“†',
		'scrr': 'ğ“‡',
		'scrs': 'ğ“ˆ',
		'scrt': 'ğ“‰',
		'scru': 'ğ“Š',
		'scrv': 'ğ“‹',
		'scrw': 'ğ“Œ',
		'scrx': 'ğ“',
		'scry': 'ğ“',
		'scrz': 'ğ“',
		'bscrA': 'ğ“',
		'bscrB': 'ğ“‘',
		'bscrC': 'ğ“’',
		'bscrD': 'ğ““',
		'bscrE': 'ğ“”',
		'bscrF': 'ğ“•',
		'bscrG': 'ğ“–',
		'bscrH': 'ğ“—',
		'bscrI': 'ğ“˜',
		'bscrJ': 'ğ“™',
		'bscrK': 'ğ“š',
		'bscrL': 'ğ“›',
		'bscrM': 'ğ“œ',
		'bscrN': 'ğ“',
		'bscrO': 'ğ“',
		'bscrP': 'ğ“Ÿ',
		'bscrQ': 'ğ“ ',
		'bscrR': 'ğ“¡',
		'bscrS': 'ğ“¢',
		'bscrT': 'ğ“£',
		'bscrU': 'ğ“¤',
		'bscrV': 'ğ“¥',
		'bscrW': 'ğ“¦',
		'bscrX': 'ğ“§',
		'bscrY': 'ğ“¨',
		'bscrZ': 'ğ“©',
		'bscra': 'ğ“ª',
		'bscrb': 'ğ“«',
		'bscrc': 'ğ“¬',
		'bscrd': 'ğ“­',
		'bscre': 'ğ“®',
		'bscrf': 'ğ“¯',
		'bscrg': 'ğ“°',
		'bscrh': 'ğ“±',
		'bscri': 'ğ“²',
		'bscrj': 'ğ“³',
		'bscrk': 'ğ“´',
		'bscrl': 'ğ“µ',
		'bscrm': 'ğ“¶',
		'bscrn': 'ğ“·',
		'bscro': 'ğ“¸',
		'bscrp': 'ğ“¹',
		'bscrq': 'ğ“º',
		'bscrr': 'ğ“»',
		'bscrs': 'ğ“¼',
		'bscrt': 'ğ“½',
		'bscru': 'ğ“¾',
		'bscrv': 'ğ“¿',
		'bscrw': 'ğ”€',
		'bscrx': 'ğ”',
		'bscry': 'ğ”‚',
		'bfA': 'ğ€',
		'bfB': 'ğ',
		'bfC': 'ğ‚',
		'bfD': 'ğƒ',
		'bfE': 'ğ„',
		'bfF': 'ğ…',
		'bfG': 'ğ†',
		'bfH': 'ğ‡',
		'bfI': 'ğˆ',
		'bfJ': 'ğ‰',
		'bfK': 'ğŠ',
		'bfL': 'ğ‹',
		'bfM': 'ğŒ',
		'bfN': 'ğ',
		'bfO': 'ğ',
		'bfP': 'ğ',
		'bfQ': 'ğ',
		'bfR': 'ğ‘',
		'bfS': 'ğ’',
		'bfT': 'ğ“',
		'bfU': 'ğ”',
		'bfV': 'ğ•',
		'bfW': 'ğ–',
		'bfX': 'ğ—',
		'bfY': 'ğ˜',
		'bfZ': 'ğ™',
		'bfa': 'ğš',
		'bfb': 'ğ›',
		'bfc': 'ğœ',
		'bfd': 'ğ',
		'bfe': 'ğ',
		'bff': 'ğŸ',
		'bfg': 'ğ ',
		'bfh': 'ğ¡',
		'bfi': 'ğ¢',
		'bfj': 'ğ£',
		'bfk': 'ğ¤',
		'bfl': 'ğ¥',
		'bfm': 'ğ¦',
		'bfn': 'ğ§',
		'bfo': 'ğ¨',
		'bfp': 'ğ©',
		'bfq': 'ğª',
		'bfr': 'ğ«',
		'bfs': 'ğ¬',
		'bft': 'ğ­',
		'bfu': 'ğ®',
		'bfv': 'ğ¯',
		'bfw': 'ğ°',
		'bfx': 'ğ±',
		'bfy': 'ğ²',
		'bfz': 'ğ³',
		'itA': 'ğ´',
		'itB': 'ğµ',
		'itC': 'ğ¶',
		'itD': 'ğ·',
		'itE': 'ğ¸',
		'itF': 'ğ¹',
		'itG': 'ğº',
		'itH': 'ğ»',
		'itI': 'ğ¼',
		'itJ': 'ğ½',
		'itK': 'ğ¾',
		'itL': 'ğ¿',
		'itM': 'ğ‘€',
		'itN': 'ğ‘',
		'itO': 'ğ‘‚',
		'itP': 'ğ‘ƒ',
		'itQ': 'ğ‘„',
		'itR': 'ğ‘…',
		'itS': 'ğ‘†',
		'itT': 'ğ‘‡',
		'itU': 'ğ‘ˆ',
		'itV': 'ğ‘‰',
		'itW': 'ğ‘Š',
		'itX': 'ğ‘‹',
		'itY': 'ğ‘Œ',
		'itZ': 'ğ‘',
		'ita': 'ğ‘',
		'itb': 'ğ‘',
		'itc': 'ğ‘',
		'itd': 'ğ‘‘',
		'ite': 'ğ‘’',
		'itf': 'ğ‘“',
		'itg': 'ğ‘”',
		'iti': 'ğ‘–',
		'itj': 'ğ‘—',
		'itk': 'ğ‘˜',
		'itl': 'ğ‘™',
		'itm': 'ğ‘š',
		'itn': 'ğ‘›',
		'ito': 'ğ‘œ',
		'itp': 'ğ‘',
		'itq': 'ğ‘',
		'itr': 'ğ‘Ÿ',
		'its': 'ğ‘ ',
		'itt': 'ğ‘¡',
		'itu': 'ğ‘¢',
		'itv': 'ğ‘£',
		'itw': 'ğ‘¤',
		'itx': 'ğ‘¥',
		'ity': 'ğ‘¦',
		'itz': 'ğ‘§',
		'biA': 'ğ‘¨',
		'biB': 'ğ‘©',
		'biC': 'ğ‘ª',
		'biD': 'ğ‘«',
		'biE': 'ğ‘¬',
		'biF': 'ğ‘­',
		'biG': 'ğ‘®',
		'biH': 'ğ‘¯',
		'biI': 'ğ‘°',
		'biJ': 'ğ‘±',
		'biK': 'ğ‘²',
		'biL': 'ğ‘³',
		'biM': 'ğ‘´',
		'biN': 'ğ‘µ',
		'biO': 'ğ‘¶',
		'biP': 'ğ‘·',
		'biQ': 'ğ‘¸',
		'biR': 'ğ‘¹',
		'biS': 'ğ‘º',
		'biT': 'ğ‘»',
		'biU': 'ğ‘¼',
		'biV': 'ğ‘½',
		'biW': 'ğ‘¾',
		'biX': 'ğ‘¿',
		'biY': 'ğ’€',
		'biZ': 'ğ’',
		'bia': 'ğ’‚',
		'bib': 'ğ’ƒ',
		'bic': 'ğ’„',
		'bid': 'ğ’…',
		'bie': 'ğ’†',
		'bif': 'ğ’‡',
		'big': 'ğ’ˆ',
		'bih': 'ğ’‰',
		'bii': 'ğ’Š',
		'bij': 'ğ’‹',
		'bik': 'ğ’Œ',
		'bil': 'ğ’',
		'bim': 'ğ’',
		'bin': 'ğ’',
		'bio': 'ğ’',
		'bip': 'ğ’‘',
		'biq': 'ğ’’',
		'bir': 'ğ’“',
		'bis': 'ğ’”',
		'bit': 'ğ’•',
		'biu': 'ğ’–',
		'biv': 'ğ’—',
		'biw': 'ğ’˜',
		'bix': 'ğ’™',
		'biy': 'ğ’š',
		'biz': 'ğ’›',
		'cdot': 'â‹…',
		'bbA': 'ğ”¸',
		'bba': 'ğ•’',
		'bbB': 'ğ”¹',
		'bbb': 'ğ•“',
		'bbC': 'â„‚',
		'bbc': 'ğ•”',
		'bbD': 'ğ”»',
		'bbd': 'ğ••',
		'bbE': 'ğ”¼',
		'bbe': 'ğ•–',
		'bbF': 'ğ”½',
		'bbf': 'ğ•—',
		'bbG': 'ğ”¾',
		'bbg': 'ğ•˜',
		'bbH': 'â„',
		'bbh': 'ğ•™',
		'bbI': 'ğ•€',
		'bbi': 'ğ•š',
		'bbJ': 'ğ•',
		'bbj': 'ğ•›',
		'bbK': 'ğ•‚',
		'bbk': 'ğ•œ',
		'bbL': 'ğ•ƒ',
		'bbl': 'ğ•',
		'bbM': 'ğ•„',
		'bbm': 'ğ•',
		'bbN': 'â„•',
		'bbn': 'ğ•Ÿ',
		'bbO': 'ğ•†',
		'bbo': 'ğ• ',
		'bbP': 'â„™',
		'bbp': 'ğ•¡',
		'bbQ': 'â„š',
		'bbq': 'ğ•¢',
		'bbR': 'â„',
		'bbr': 'ğ•£',
		'bbS': 'ğ•Š',
		'bbs': 'ğ•¤',
		'bbT': 'ğ•‹',
		'bbt': 'ğ•¥',
		'bbU': 'ğ•Œ',
		'bbu': 'ğ•¦',
		'bbV': 'ğ•',
		'bbv': 'ğ•§',
		'bbW': 'ğ•',
		'bbw': 'ğ•¨',
		'bbX': 'ğ•',
		'bbx': 'ğ•©',
		'bbY': 'ğ•',
		'bby': 'ğ•ª',
		'bbZ': 'â„¤',
		'bbz': 'ğ•«',
		'bbiD': 'â……',
		'bbid': 'â…†',
		'bbie': 'â…‡',
		'bbii': 'â…ˆ',
		'bbij': 'â…‰',
		'bbgamma': 'â„½',
		'bbGamma': 'â„¾',
		'bbpi': 'â„¼',
		'bbPi': 'â„¿',
		'bbsum': 'â…€',
		'bb0': 'ğŸ˜',
		'bb1': 'ğŸ™',
		'bb2': 'ğŸš',
		'bb3': 'ğŸ›',
		'bb4': 'ğŸœ',
		'bb5': 'ğŸ',
		'bb6': 'ğŸ',
		'bb7': 'ğŸŸ',
		'bb8': 'ğŸ ',
		'bb9': 'ğŸ¡',
		'exp': 'ğ”¼',
		'expect': 'ğ”¼',
		'expectation': 'ğ”¼',
		'choose': '(â‹®)',
		'binom': '(â‹®)',
		'binomial': '(â‹®)',
		'dot': 'â¦',
		'qed': 'âˆ',
		'QED': 'âˆ',
		'ismember': 'âˆˆ',
		'ismem': 'âˆˆ',
		'isel': 'âˆˆ',
		'elof': 'âˆˆ',
		'in': 'âˆˆ',
		'elementof': 'âˆˆ',
		'notelof': 'âˆ‰',
		'notelementof': 'âˆ‰',
		'subset': 'âŠ†',
		'notsubset': 'âŠˆ',
		'nsubset': 'âŠˆ',
		'union': 'âˆª',
		'intersect': 'âˆ©',
		'emptyset': 'Ã˜',
		'aleph': 'â„µ',
		'power': 'â„˜',
		'notequal': 'â‰ ',
		'ne': 'â‰ ',
		'partial': 'âˆ‚',
		'therefore': 'âˆ´',
		'integral': 'âˆ«',
		'diff': 'Î”',
		'le': 'â‰¤',
		'ge': 'â‰¥',
		'SUM': 'Î£',
		'sqrt': 'âˆš',
		'__0': 'â°',
		'__1': 'Â¹',
		'__2': 'Â²',
		'__3': 'Â³',
		'__4': 'â´',
		'__5': 'âµ',
		'__6': 'â¶',
		'__7': 'â·',
		'__8': 'â¸',
		'__9': 'â¹',
		'__a': 'áµƒ',
		'__b': 'áµ‡',
		'__c': 'á¶œ',
		'__d': 'áµˆ',
		'__e': 'áµ‰',
		'__f': 'á¶ ',
		'__g': 'áµ',
		'__h': 'Ê°',
		'__i': 'â±',
		'__j': 'Ê²',
		'__k': 'áµ',
		'__l': 'Ë¡',
		'__m': 'áµ',
		'__n': 'â¿',
		'__o': 'áµ’',
		'__p': 'áµ–',
		'__r': 'Ê³',
		'__s': 'Ë¢',
		'__t': 'áµ—',
		'__u': 'áµ˜',
		'__v': 'áµ›',
		'__w': 'Ê·',
		'__x': 'Ë£',
		'__y': 'Ê¸',
		'__z': 'á¶»',
		'__T': 'áµ€',
		'__plus': 'âº',
		'__minus': 'â»',
		'__equal': 'â¼',
		'__lpar': 'â½',
		'__rpar': 'â¾',
		'_0': 'â‚€',
		'_1': 'â‚',
		'_2': 'â‚‚',
		'_3': 'â‚ƒ',
		'_4': 'â‚„',
		'_5': 'â‚…',
		'_6': 'â‚†',
		'_7': 'â‚‡',
		'_8': 'â‚ˆ',
		'_9': 'â‚‰',
		'_i': 'áµ¢',
		'_plus': 'â‚Š',
		'_minus': 'â‚‹',
		'_equal': 'â‚Œ',
		'_lpar': 'â‚',
		'_rpar': 'â‚',
		'check': 'âœ“',
		'c': 'âœ“',
		'cc': 'âœ“',
		'CHECK': 'âœ”', # Emoji
		'CC': 'âœ”', # Emoji
		'X': 'âœ–' # Emoji
		}
		self.view.run_command("expand_selection",{"to": "word"})
		sels = self.view.sel()
		for sel in sels:
			key = self.view.substr(sel)
			print( key )
			if key in greekmappings:
				replacement = greekmappings[key]
				self.view.replace(edit,sel,replacement)
			elif key in mathmappings:
				replacement = mathmappings[key]
				# if self.view.substr(sublime.Region(sel.a-1, sel.a)) == ' ':
				# 	sel = sublime.Region(sel.a-1, sel.b)
				self.view.replace(edit,sel,replacement)
		end = self.view.sel()[0].b
		pt = sublime.Region(end, end)
		self.view.sel().clear()
		self.view.sel().add(pt)
